// Generated by CIRCT firtool-1.62.1
// Standard header to adapt well known macros for register randomization.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

// Include register initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_REG_
    `define ENABLE_INITIAL_REG_
  `endif // not def ENABLE_INITIAL_REG_
`endif // not def SYNTHESIS

// Include rmemory initializers in init blocks unless synthesis is set
`ifndef SYNTHESIS
  `ifndef ENABLE_INITIAL_MEM_
    `define ENABLE_INITIAL_MEM_
  `endif // not def ENABLE_INITIAL_MEM_
`endif // not def SYNTHESIS

module BitmapCache(
  input         clock,
  input         reset,
  input         io_sfence_valid,
  input         io_csr_satp_changed,
  input         io_csr_vsatp_changed,
  input         io_csr_hgatp_changed,
  input         io_csr_mbmc_BCLEAR,
  input         io_csr_priv_virt_changed,
  output        io_req_ready,
  input         io_req_valid,
  input  [7:0]  io_req_bits_order,
  input  [35:0] io_req_bits_tag,
  input         io_resp_ready,
  output        io_resp_valid,
  output        io_resp_bits_hit,
  output        io_resp_bits_cfs_0,
  output        io_resp_bits_cfs_1,
  output        io_resp_bits_cfs_2,
  output        io_resp_bits_cfs_3,
  output        io_resp_bits_cfs_4,
  output        io_resp_bits_cfs_5,
  output        io_resp_bits_cfs_6,
  output        io_resp_bits_cfs_7,
  output [7:0]  io_resp_bits_order,
  input         io_refill_valid,
  input  [35:0] io_refill_bits_tag,
  input  [63:0] io_refill_bits_data,
  input  [5:0]  boreChildrenBd_bore_array,
  input         boreChildrenBd_bore_all,
  input         boreChildrenBd_bore_req,
  output        boreChildrenBd_bore_ack,
  input         boreChildrenBd_bore_writeen,
  input  [1:0]  boreChildrenBd_bore_be,
  input  [5:0]  boreChildrenBd_bore_addr,
  input  [89:0] boreChildrenBd_bore_indata,
  input         boreChildrenBd_bore_readen,
  input  [5:0]  boreChildrenBd_bore_addr_rd,
  output [89:0] boreChildrenBd_bore_outdata,
  input         sigFromSrams_bore_ram_hold,
  input         sigFromSrams_bore_ram_bypass,
  input         sigFromSrams_bore_ram_bp_clken,
  input         sigFromSrams_bore_ram_aux_clk,
  input         sigFromSrams_bore_ram_aux_ckbp,
  input         sigFromSrams_bore_ram_mcp_hold,
  input         sigFromSrams_bore_cgen,
  input         sigFromSrams_bore_1_ram_hold,
  input         sigFromSrams_bore_1_ram_bypass,
  input         sigFromSrams_bore_1_ram_bp_clken,
  input         sigFromSrams_bore_1_ram_aux_clk,
  input         sigFromSrams_bore_1_ram_aux_ckbp,
  input         sigFromSrams_bore_1_ram_mcp_hold,
  input         sigFromSrams_bore_1_cgen,
  input         sigFromSrams_bore_2_ram_hold,
  input         sigFromSrams_bore_2_ram_bypass,
  input         sigFromSrams_bore_2_ram_bp_clken,
  input         sigFromSrams_bore_2_ram_aux_clk,
  input         sigFromSrams_bore_2_ram_aux_ckbp,
  input         sigFromSrams_bore_2_ram_mcp_hold,
  input         sigFromSrams_bore_2_cgen,
  input         sigFromSrams_bore_3_ram_hold,
  input         sigFromSrams_bore_3_ram_bypass,
  input         sigFromSrams_bore_3_ram_bp_clken,
  input         sigFromSrams_bore_3_ram_aux_clk,
  input         sigFromSrams_bore_3_ram_aux_ckbp,
  input         sigFromSrams_bore_3_ram_mcp_hold,
  input         sigFromSrams_bore_3_cgen,
  input         cg_bore_cgen
);

  wire [89:0]      bd_outdata;
  wire             bd_ack;
  wire [89:0]      childBd_3_rdata;
  wire [89:0]      childBd_2_rdata;
  wire [89:0]      childBd_1_rdata;
  wire [89:0]      childBd_rdata;
  wire             stageResp_ready;
  wire             stageReq_ready;
  wire             _ClockGate_Q;
  wire [24:0]      _bitmapcache_io_r_resp_data_0_tag;
  wire [63:0]      _bitmapcache_io_r_resp_data_0_data;
  wire [24:0]      _bitmapcache_io_r_resp_data_1_tag;
  wire [63:0]      _bitmapcache_io_r_resp_data_1_data;
  wire [24:0]      _bitmapcache_io_r_resp_data_2_tag;
  wire [63:0]      _bitmapcache_io_r_resp_data_2_data;
  wire [24:0]      _bitmapcache_io_r_resp_data_3_tag;
  wire [63:0]      _bitmapcache_io_r_resp_data_3_data;
  wire [5:0]       bd_array = boreChildrenBd_bore_array;
  wire             bd_all = boreChildrenBd_bore_all;
  wire             bd_req = boreChildrenBd_bore_req;
  wire             bd_writeen = boreChildrenBd_bore_writeen;
  wire [1:0]       bd_be = boreChildrenBd_bore_be;
  wire [5:0]       bd_addr = boreChildrenBd_bore_addr;
  wire [89:0]      bd_indata = boreChildrenBd_bore_indata;
  wire             bd_readen = boreChildrenBd_bore_readen;
  wire [5:0]       bd_addr_rd = boreChildrenBd_bore_addr_rd;
  wire             te_cgen = cg_bore_cgen;
  wire             flush =
    io_sfence_valid | io_csr_satp_changed | io_csr_vsatp_changed | io_csr_hgatp_changed
    | io_csr_priv_virt_changed;
  reg  [2:0]       state_vec_0;
  reg  [2:0]       state_vec_1;
  reg  [2:0]       state_vec_2;
  reg  [2:0]       state_vec_3;
  reg  [2:0]       state_vec_4;
  reg  [2:0]       state_vec_5;
  reg  [2:0]       state_vec_6;
  reg  [2:0]       state_vec_7;
  reg  [2:0]       state_vec_8;
  reg  [2:0]       state_vec_9;
  reg  [2:0]       state_vec_10;
  reg  [2:0]       state_vec_11;
  reg  [2:0]       state_vec_12;
  reg  [2:0]       state_vec_13;
  reg  [2:0]       state_vec_14;
  reg  [2:0]       state_vec_15;
  reg  [2:0]       state_vec_16;
  reg  [2:0]       state_vec_17;
  reg  [2:0]       state_vec_18;
  reg  [2:0]       state_vec_19;
  reg  [2:0]       state_vec_20;
  reg  [2:0]       state_vec_21;
  reg  [2:0]       state_vec_22;
  reg  [2:0]       state_vec_23;
  reg  [2:0]       state_vec_24;
  reg  [2:0]       state_vec_25;
  reg  [2:0]       state_vec_26;
  reg  [2:0]       state_vec_27;
  reg  [2:0]       state_vec_28;
  reg  [2:0]       state_vec_29;
  reg  [2:0]       state_vec_30;
  reg  [2:0]       state_vec_31;
  reg  [127:0]     bcv;
  wire             _vVec_delay_T = stageReq_ready & io_req_valid;
  reg              stageDelay_valid_1cycle;
  reg              stageResp_valid_1cycle;
  reg              valid;
  wire             leftFire = io_req_valid & stageResp_ready & ~io_refill_valid;
  assign stageReq_ready = stageResp_ready & ~io_refill_valid;
  reg  [7:0]       data_order;
  reg  [35:0]      data_tag;
  reg              valid_1;
  wire             leftFire_1 = valid & stageResp_ready;
  reg  [7:0]       data_1_order;
  reg  [35:0]      data_1_tag;
  assign stageResp_ready = ~valid_1 | io_resp_ready;
  reg  [24:0]      data_resp_r_0_tag;
  reg  [63:0]      data_resp_r_0_data;
  reg  [24:0]      data_resp_r_1_tag;
  reg  [63:0]      data_resp_r_1_data;
  reg  [24:0]      data_resp_r_2_tag;
  reg  [63:0]      data_resp_r_2_data;
  reg  [24:0]      data_resp_r_3_tag;
  reg  [63:0]      data_resp_r_3_data;
  reg  [3:0]       vVec_delay;
  reg  [63:0]      ramDatas_0_data;
  reg  [63:0]      ramDatas_1_data;
  reg  [63:0]      ramDatas_2_data;
  reg  [63:0]      ramDatas_3_data;
  reg              hitVec_0;
  reg              hitVec_1;
  reg              hitVec_2;
  reg              hitVec_3;
  wire             _hitWay_T = hitVec_0 | hitVec_1;
  wire             hit = _hitWay_T | hitVec_2 | hitVec_3;
  wire [63:0]      hitWayEntry_data =
    _hitWay_T
      ? (hitVec_0 ? ramDatas_0_data : ramDatas_1_data)
      : hitVec_2 ? ramDatas_2_data : ramDatas_3_data;
  wire [31:0][2:0] _GEN =
    {{state_vec_31},
     {state_vec_30},
     {state_vec_29},
     {state_vec_28},
     {state_vec_27},
     {state_vec_26},
     {state_vec_25},
     {state_vec_24},
     {state_vec_23},
     {state_vec_22},
     {state_vec_21},
     {state_vec_20},
     {state_vec_19},
     {state_vec_18},
     {state_vec_17},
     {state_vec_16},
     {state_vec_15},
     {state_vec_14},
     {state_vec_13},
     {state_vec_12},
     {state_vec_11},
     {state_vec_10},
     {state_vec_9},
     {state_vec_8},
     {state_vec_7},
     {state_vec_6},
     {state_vec_5},
     {state_vec_4},
     {state_vec_3},
     {state_vec_2},
     {state_vec_1},
     {state_vec_0}};
  wire [7:0][7:0]  _GEN_0 =
    {{hitWayEntry_data[63:56]},
     {hitWayEntry_data[55:48]},
     {hitWayEntry_data[47:40]},
     {hitWayEntry_data[39:32]},
     {hitWayEntry_data[31:24]},
     {hitWayEntry_data[23:16]},
     {hitWayEntry_data[15:8]},
     {hitWayEntry_data[7:0]}};
  wire [7:0]       _GEN_1 = _GEN_0[data_1_tag[5:3]];
  wire [2:0]       _GEN_2 = _GEN[io_refill_bits_tag[10:6]];
  wire [31:0][3:0] _GEN_3 =
    {{bcv[127:124]},
     {bcv[123:120]},
     {bcv[119:116]},
     {bcv[115:112]},
     {bcv[111:108]},
     {bcv[107:104]},
     {bcv[103:100]},
     {bcv[99:96]},
     {bcv[95:92]},
     {bcv[91:88]},
     {bcv[87:84]},
     {bcv[83:80]},
     {bcv[79:76]},
     {bcv[75:72]},
     {bcv[71:68]},
     {bcv[67:64]},
     {bcv[63:60]},
     {bcv[59:56]},
     {bcv[55:52]},
     {bcv[51:48]},
     {bcv[47:44]},
     {bcv[43:40]},
     {bcv[39:36]},
     {bcv[35:32]},
     {bcv[31:28]},
     {bcv[27:24]},
     {bcv[23:20]},
     {bcv[19:16]},
     {bcv[15:12]},
     {bcv[11:8]},
     {bcv[7:4]},
     {bcv[3:0]}};
  wire [3:0]       _GEN_4 = _GEN_3[io_refill_bits_tag[10:6]];
  wire [1:0]       bc_victimWay =
    (&_GEN_4)
      ? {_GEN_2[2], _GEN_2[2] ? _GEN_2[1] : _GEN_2[0]}
      : _GEN_4[0] & _GEN_4[1] ? {1'h1, _GEN_4[2]} : {1'h0, _GEN_4[0]};
  wire [1:0]       hitWay = _hitWay_T ? {1'h0, ~hitVec_0} : {1'h1, ~hitVec_2};
  wire             _GEN_5 = hit & stageResp_valid_1cycle;
  wire [2:0]       _GEN_6 = _GEN[data_1_tag[10:6]];
  wire [2:0]       _state_vec_T_8 =
    {~(hitWay[1]),
     hitWay[1] ? ~(hitWay[0]) : _GEN_6[1],
     hitWay[1] ? _GEN_6[0] : ~(hitWay[0])};
  wire [2:0]       _state_vec_T_17 =
    {~(bc_victimWay[1]),
     bc_victimWay[1] ? ~(bc_victimWay[0]) : _GEN_2[1],
     bc_victimWay[1] ? _GEN_2[0] : ~(bc_victimWay[0])};
  always @(posedge clock or posedge reset) begin
    if (reset) begin
      state_vec_0 <= 3'h0;
      state_vec_1 <= 3'h0;
      state_vec_2 <= 3'h0;
      state_vec_3 <= 3'h0;
      state_vec_4 <= 3'h0;
      state_vec_5 <= 3'h0;
      state_vec_6 <= 3'h0;
      state_vec_7 <= 3'h0;
      state_vec_8 <= 3'h0;
      state_vec_9 <= 3'h0;
      state_vec_10 <= 3'h0;
      state_vec_11 <= 3'h0;
      state_vec_12 <= 3'h0;
      state_vec_13 <= 3'h0;
      state_vec_14 <= 3'h0;
      state_vec_15 <= 3'h0;
      state_vec_16 <= 3'h0;
      state_vec_17 <= 3'h0;
      state_vec_18 <= 3'h0;
      state_vec_19 <= 3'h0;
      state_vec_20 <= 3'h0;
      state_vec_21 <= 3'h0;
      state_vec_22 <= 3'h0;
      state_vec_23 <= 3'h0;
      state_vec_24 <= 3'h0;
      state_vec_25 <= 3'h0;
      state_vec_26 <= 3'h0;
      state_vec_27 <= 3'h0;
      state_vec_28 <= 3'h0;
      state_vec_29 <= 3'h0;
      state_vec_30 <= 3'h0;
      state_vec_31 <= 3'h0;
      bcv <= 128'h0;
      stageDelay_valid_1cycle <= 1'h0;
      stageResp_valid_1cycle <= 1'h0;
      valid <= 1'h0;
      valid_1 <= 1'h0;
    end
    else begin
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h0)
        state_vec_0 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h0)
        state_vec_0 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h1)
        state_vec_1 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h1)
        state_vec_1 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h2)
        state_vec_2 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h2)
        state_vec_2 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h3)
        state_vec_3 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h3)
        state_vec_3 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h4)
        state_vec_4 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h4)
        state_vec_4 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h5)
        state_vec_5 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h5)
        state_vec_5 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h6)
        state_vec_6 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h6)
        state_vec_6 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h7)
        state_vec_7 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h7)
        state_vec_7 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h8)
        state_vec_8 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h8)
        state_vec_8 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h9)
        state_vec_9 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h9)
        state_vec_9 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'hA)
        state_vec_10 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'hA)
        state_vec_10 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'hB)
        state_vec_11 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'hB)
        state_vec_11 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'hC)
        state_vec_12 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'hC)
        state_vec_12 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'hD)
        state_vec_13 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'hD)
        state_vec_13 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'hE)
        state_vec_14 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'hE)
        state_vec_14 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'hF)
        state_vec_15 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'hF)
        state_vec_15 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h10)
        state_vec_16 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h10)
        state_vec_16 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h11)
        state_vec_17 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h11)
        state_vec_17 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h12)
        state_vec_18 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h12)
        state_vec_18 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h13)
        state_vec_19 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h13)
        state_vec_19 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h14)
        state_vec_20 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h14)
        state_vec_20 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h15)
        state_vec_21 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h15)
        state_vec_21 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h16)
        state_vec_22 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h16)
        state_vec_22 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h17)
        state_vec_23 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h17)
        state_vec_23 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h18)
        state_vec_24 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h18)
        state_vec_24 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h19)
        state_vec_25 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h19)
        state_vec_25 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h1A)
        state_vec_26 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h1A)
        state_vec_26 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h1B)
        state_vec_27 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h1B)
        state_vec_27 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h1C)
        state_vec_28 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h1C)
        state_vec_28 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h1D)
        state_vec_29 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h1D)
        state_vec_29 <= _state_vec_T_8;
      if (io_refill_valid & io_refill_bits_tag[10:6] == 5'h1E)
        state_vec_30 <= _state_vec_T_17;
      else if (_GEN_5 & data_1_tag[10:6] == 5'h1E)
        state_vec_30 <= _state_vec_T_8;
      if (io_refill_valid & (&(io_refill_bits_tag[10:6])))
        state_vec_31 <= _state_vec_T_17;
      else if (_GEN_5 & (&(data_1_tag[10:6])))
        state_vec_31 <= _state_vec_T_8;
      if (io_csr_mbmc_BCLEAR)
        bcv <= 128'h0;
      else
        bcv <=
          {128{io_refill_valid}} & 128'h1
          << {121'h0, io_refill_bits_tag[10:6], bc_victimWay} | bcv;
      stageDelay_valid_1cycle <= ~flush & _vVec_delay_T;
      stageResp_valid_1cycle <= ~flush & stageResp_ready & valid_1;
      valid <= ~flush & (leftFire | ~stageResp_ready & valid);
      valid_1 <= ~flush & (leftFire_1 | ~stageResp_ready & valid_1);
    end
  end // always @(posedge, posedge)
  wire [31:0][3:0] _GEN_7 =
    {{bcv[127:124]},
     {bcv[123:120]},
     {bcv[119:116]},
     {bcv[115:112]},
     {bcv[111:108]},
     {bcv[107:104]},
     {bcv[103:100]},
     {bcv[99:96]},
     {bcv[95:92]},
     {bcv[91:88]},
     {bcv[87:84]},
     {bcv[83:80]},
     {bcv[79:76]},
     {bcv[75:72]},
     {bcv[71:68]},
     {bcv[67:64]},
     {bcv[63:60]},
     {bcv[59:56]},
     {bcv[55:52]},
     {bcv[51:48]},
     {bcv[47:44]},
     {bcv[43:40]},
     {bcv[39:36]},
     {bcv[35:32]},
     {bcv[31:28]},
     {bcv[27:24]},
     {bcv[23:20]},
     {bcv[19:16]},
     {bcv[15:12]},
     {bcv[11:8]},
     {bcv[7:4]},
     {bcv[3:0]}};
  always @(posedge clock) begin
    if (leftFire) begin
      data_order <= io_req_bits_order;
      data_tag <= io_req_bits_tag;
    end
    if (leftFire_1) begin
      data_1_order <= data_order;
      data_1_tag <= data_tag;
    end
    if (stageDelay_valid_1cycle) begin
      data_resp_r_0_tag <= _bitmapcache_io_r_resp_data_0_tag;
      data_resp_r_0_data <= _bitmapcache_io_r_resp_data_0_data;
      data_resp_r_1_tag <= _bitmapcache_io_r_resp_data_1_tag;
      data_resp_r_1_data <= _bitmapcache_io_r_resp_data_1_data;
      data_resp_r_2_tag <= _bitmapcache_io_r_resp_data_2_tag;
      data_resp_r_2_data <= _bitmapcache_io_r_resp_data_2_data;
      data_resp_r_3_tag <= _bitmapcache_io_r_resp_data_3_tag;
      data_resp_r_3_data <= _bitmapcache_io_r_resp_data_3_data;
    end
    if (_vVec_delay_T)
      vVec_delay <= _GEN_7[io_req_bits_tag[10:6]];
    if (stageResp_ready & valid) begin
      ramDatas_0_data <=
        stageDelay_valid_1cycle ? _bitmapcache_io_r_resp_data_0_data : data_resp_r_0_data;
      ramDatas_1_data <=
        stageDelay_valid_1cycle ? _bitmapcache_io_r_resp_data_1_data : data_resp_r_1_data;
      ramDatas_2_data <=
        stageDelay_valid_1cycle ? _bitmapcache_io_r_resp_data_2_data : data_resp_r_2_data;
      ramDatas_3_data <=
        stageDelay_valid_1cycle ? _bitmapcache_io_r_resp_data_3_data : data_resp_r_3_data;
      hitVec_0 <=
        (stageDelay_valid_1cycle
           ? _bitmapcache_io_r_resp_data_0_tag
           : data_resp_r_0_tag) == data_tag[35:11] & vVec_delay[0];
      hitVec_1 <=
        (stageDelay_valid_1cycle
           ? _bitmapcache_io_r_resp_data_1_tag
           : data_resp_r_1_tag) == data_tag[35:11] & vVec_delay[1];
      hitVec_2 <=
        (stageDelay_valid_1cycle
           ? _bitmapcache_io_r_resp_data_2_tag
           : data_resp_r_2_tag) == data_tag[35:11] & vVec_delay[2];
      hitVec_3 <=
        (stageDelay_valid_1cycle
           ? _bitmapcache_io_r_resp_data_3_tag
           : data_resp_r_3_tag) == data_tag[35:11] & vVec_delay[3];
    end
  end // always @(posedge)
  `ifdef ENABLE_INITIAL_REG_
    `ifdef FIRRTL_BEFORE_INITIAL
      `FIRRTL_BEFORE_INITIAL
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM[0:32];
    initial begin
      `ifdef INIT_RANDOM_PROLOG_
        `INIT_RANDOM_PROLOG_
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT
        for (logic [5:0] i = 6'h0; i < 6'h21; i += 6'h1) begin
          _RANDOM[i] = `RANDOM;
        end
        state_vec_0 = _RANDOM[6'h0][5:3];
        state_vec_1 = _RANDOM[6'h0][8:6];
        state_vec_2 = _RANDOM[6'h0][11:9];
        state_vec_3 = _RANDOM[6'h0][14:12];
        state_vec_4 = _RANDOM[6'h0][17:15];
        state_vec_5 = _RANDOM[6'h0][20:18];
        state_vec_6 = _RANDOM[6'h0][23:21];
        state_vec_7 = _RANDOM[6'h0][26:24];
        state_vec_8 = _RANDOM[6'h0][29:27];
        state_vec_9 = {_RANDOM[6'h0][31:30], _RANDOM[6'h1][0]};
        state_vec_10 = _RANDOM[6'h1][3:1];
        state_vec_11 = _RANDOM[6'h1][6:4];
        state_vec_12 = _RANDOM[6'h1][9:7];
        state_vec_13 = _RANDOM[6'h1][12:10];
        state_vec_14 = _RANDOM[6'h1][15:13];
        state_vec_15 = _RANDOM[6'h1][18:16];
        state_vec_16 = _RANDOM[6'h1][21:19];
        state_vec_17 = _RANDOM[6'h1][24:22];
        state_vec_18 = _RANDOM[6'h1][27:25];
        state_vec_19 = _RANDOM[6'h1][30:28];
        state_vec_20 = {_RANDOM[6'h1][31], _RANDOM[6'h2][1:0]};
        state_vec_21 = _RANDOM[6'h2][4:2];
        state_vec_22 = _RANDOM[6'h2][7:5];
        state_vec_23 = _RANDOM[6'h2][10:8];
        state_vec_24 = _RANDOM[6'h2][13:11];
        state_vec_25 = _RANDOM[6'h2][16:14];
        state_vec_26 = _RANDOM[6'h2][19:17];
        state_vec_27 = _RANDOM[6'h2][22:20];
        state_vec_28 = _RANDOM[6'h2][25:23];
        state_vec_29 = _RANDOM[6'h2][28:26];
        state_vec_30 = _RANDOM[6'h2][31:29];
        state_vec_31 = _RANDOM[6'h3][2:0];
        bcv =
          {_RANDOM[6'h3][31:3],
           _RANDOM[6'h4],
           _RANDOM[6'h5],
           _RANDOM[6'h6],
           _RANDOM[6'h7][2:0]};
        stageDelay_valid_1cycle = _RANDOM[6'h7][3];
        stageResp_valid_1cycle = _RANDOM[6'h7][4];
        valid = _RANDOM[6'h7][5];
        data_order = _RANDOM[6'h7][13:6];
        data_tag = {_RANDOM[6'h7][31:14], _RANDOM[6'h8][17:0]};
        valid_1 = _RANDOM[6'h8][18];
        data_1_order = _RANDOM[6'h8][26:19];
        data_1_tag = {_RANDOM[6'h8][31:27], _RANDOM[6'h9][30:0]};
        data_resp_r_0_tag = {_RANDOM[6'h9][31], _RANDOM[6'hA][23:0]};
        data_resp_r_0_data = {_RANDOM[6'hA][31:24], _RANDOM[6'hB], _RANDOM[6'hC][23:0]};
        data_resp_r_1_tag = {_RANDOM[6'hC][31:25], _RANDOM[6'hD][17:0]};
        data_resp_r_1_data = {_RANDOM[6'hD][31:18], _RANDOM[6'hE], _RANDOM[6'hF][17:0]};
        data_resp_r_2_tag = {_RANDOM[6'hF][31:19], _RANDOM[6'h10][11:0]};
        data_resp_r_2_data =
          {_RANDOM[6'h10][31:12], _RANDOM[6'h11], _RANDOM[6'h12][11:0]};
        data_resp_r_3_tag = {_RANDOM[6'h12][31:13], _RANDOM[6'h13][5:0]};
        data_resp_r_3_data = {_RANDOM[6'h13][31:6], _RANDOM[6'h14], _RANDOM[6'h15][5:0]};
        vVec_delay = _RANDOM[6'h15][10:7];
        ramDatas_0_data = {_RANDOM[6'h16][31:4], _RANDOM[6'h17], _RANDOM[6'h18][3:0]};
        ramDatas_1_data = {_RANDOM[6'h18][31:30], _RANDOM[6'h19], _RANDOM[6'h1A][29:0]};
        ramDatas_2_data = {_RANDOM[6'h1B][31:24], _RANDOM[6'h1C], _RANDOM[6'h1D][23:0]};
        ramDatas_3_data = {_RANDOM[6'h1E][31:18], _RANDOM[6'h1F], _RANDOM[6'h20][17:0]};
        hitVec_0 = _RANDOM[6'h20][19];
        hitVec_1 = _RANDOM[6'h20][20];
        hitVec_2 = _RANDOM[6'h20][21];
        hitVec_3 = _RANDOM[6'h20][22];
      `endif // RANDOMIZE_REG_INIT
      if (reset) begin
        state_vec_0 = 3'h0;
        state_vec_1 = 3'h0;
        state_vec_2 = 3'h0;
        state_vec_3 = 3'h0;
        state_vec_4 = 3'h0;
        state_vec_5 = 3'h0;
        state_vec_6 = 3'h0;
        state_vec_7 = 3'h0;
        state_vec_8 = 3'h0;
        state_vec_9 = 3'h0;
        state_vec_10 = 3'h0;
        state_vec_11 = 3'h0;
        state_vec_12 = 3'h0;
        state_vec_13 = 3'h0;
        state_vec_14 = 3'h0;
        state_vec_15 = 3'h0;
        state_vec_16 = 3'h0;
        state_vec_17 = 3'h0;
        state_vec_18 = 3'h0;
        state_vec_19 = 3'h0;
        state_vec_20 = 3'h0;
        state_vec_21 = 3'h0;
        state_vec_22 = 3'h0;
        state_vec_23 = 3'h0;
        state_vec_24 = 3'h0;
        state_vec_25 = 3'h0;
        state_vec_26 = 3'h0;
        state_vec_27 = 3'h0;
        state_vec_28 = 3'h0;
        state_vec_29 = 3'h0;
        state_vec_30 = 3'h0;
        state_vec_31 = 3'h0;
        bcv = 128'h0;
        stageDelay_valid_1cycle = 1'h0;
        stageResp_valid_1cycle = 1'h0;
        valid = 1'h0;
        valid_1 = 1'h0;
      end
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL
      `FIRRTL_AFTER_INITIAL
    `endif // FIRRTL_AFTER_INITIAL
  `endif // ENABLE_INITIAL_REG_
  wire [5:0]       childBd_addr;
  wire [5:0]       childBd_addr_rd;
  wire [89:0]      childBd_wdata;
  wire [1:0]       childBd_wmask;
  wire             childBd_re;
  wire             childBd_we;
  wire             childBd_ack;
  wire             childBd_selectedOH;
  wire [5:0]       childBd_array;
  wire [5:0]       childBd_1_addr;
  wire [5:0]       childBd_1_addr_rd;
  wire [89:0]      childBd_1_wdata;
  wire [1:0]       childBd_1_wmask;
  wire             childBd_1_re;
  wire             childBd_1_we;
  wire             childBd_1_ack;
  wire             childBd_1_selectedOH;
  wire [5:0]       childBd_1_array;
  wire [5:0]       childBd_2_addr;
  wire [5:0]       childBd_2_addr_rd;
  wire [89:0]      childBd_2_wdata;
  wire [1:0]       childBd_2_wmask;
  wire             childBd_2_re;
  wire             childBd_2_we;
  wire             childBd_2_ack;
  wire             childBd_2_selectedOH;
  wire [5:0]       childBd_2_array;
  wire [5:0]       childBd_3_addr;
  wire [5:0]       childBd_3_addr_rd;
  wire [89:0]      childBd_3_wdata;
  wire [1:0]       childBd_3_wmask;
  wire             childBd_3_re;
  wire             childBd_3_we;
  wire             childBd_3_ack;
  wire             childBd_3_selectedOH;
  wire [5:0]       childBd_3_array;
  SplittedSRAM bitmapcache (
    .clock                            (_ClockGate_Q),
    .reset                            (reset),
    .io_r_req_valid                   (_vVec_delay_T),
    .io_r_req_bits_setIdx             (io_req_bits_tag[10:6]),
    .io_r_resp_data_0_tag             (_bitmapcache_io_r_resp_data_0_tag),
    .io_r_resp_data_0_data            (_bitmapcache_io_r_resp_data_0_data),
    .io_r_resp_data_1_tag             (_bitmapcache_io_r_resp_data_1_tag),
    .io_r_resp_data_1_data            (_bitmapcache_io_r_resp_data_1_data),
    .io_r_resp_data_2_tag             (_bitmapcache_io_r_resp_data_2_tag),
    .io_r_resp_data_2_data            (_bitmapcache_io_r_resp_data_2_data),
    .io_r_resp_data_3_tag             (_bitmapcache_io_r_resp_data_3_tag),
    .io_r_resp_data_3_data            (_bitmapcache_io_r_resp_data_3_data),
    .io_w_req_valid                   (io_refill_valid),
    .io_w_req_bits_setIdx             (io_refill_bits_tag[10:6]),
    .io_w_req_bits_data_0_tag         (io_refill_bits_tag[35:11]),
    .io_w_req_bits_data_0_data        (io_refill_bits_data),
    .io_w_req_bits_data_1_tag         (io_refill_bits_tag[35:11]),
    .io_w_req_bits_data_1_data        (io_refill_bits_data),
    .io_w_req_bits_data_2_tag         (io_refill_bits_tag[35:11]),
    .io_w_req_bits_data_2_data        (io_refill_bits_data),
    .io_w_req_bits_data_3_tag         (io_refill_bits_tag[35:11]),
    .io_w_req_bits_data_3_data        (io_refill_bits_data),
    .io_w_req_bits_waymask            (4'h1 << bc_victimWay),
    .boreChildrenBd_bore_addr         (childBd_addr),
    .boreChildrenBd_bore_addr_rd      (childBd_addr_rd),
    .boreChildrenBd_bore_wdata        (childBd_wdata),
    .boreChildrenBd_bore_wmask        (childBd_wmask),
    .boreChildrenBd_bore_re           (childBd_re),
    .boreChildrenBd_bore_we           (childBd_we),
    .boreChildrenBd_bore_rdata        (childBd_rdata),
    .boreChildrenBd_bore_ack          (childBd_ack),
    .boreChildrenBd_bore_selectedOH   (childBd_selectedOH),
    .boreChildrenBd_bore_array        (childBd_array),
    .boreChildrenBd_bore_1_addr       (childBd_1_addr),
    .boreChildrenBd_bore_1_addr_rd    (childBd_1_addr_rd),
    .boreChildrenBd_bore_1_wdata      (childBd_1_wdata),
    .boreChildrenBd_bore_1_wmask      (childBd_1_wmask),
    .boreChildrenBd_bore_1_re         (childBd_1_re),
    .boreChildrenBd_bore_1_we         (childBd_1_we),
    .boreChildrenBd_bore_1_rdata      (childBd_1_rdata),
    .boreChildrenBd_bore_1_ack        (childBd_1_ack),
    .boreChildrenBd_bore_1_selectedOH (childBd_1_selectedOH),
    .boreChildrenBd_bore_1_array      (childBd_1_array),
    .boreChildrenBd_bore_2_addr       (childBd_2_addr),
    .boreChildrenBd_bore_2_addr_rd    (childBd_2_addr_rd),
    .boreChildrenBd_bore_2_wdata      (childBd_2_wdata),
    .boreChildrenBd_bore_2_wmask      (childBd_2_wmask),
    .boreChildrenBd_bore_2_re         (childBd_2_re),
    .boreChildrenBd_bore_2_we         (childBd_2_we),
    .boreChildrenBd_bore_2_rdata      (childBd_2_rdata),
    .boreChildrenBd_bore_2_ack        (childBd_2_ack),
    .boreChildrenBd_bore_2_selectedOH (childBd_2_selectedOH),
    .boreChildrenBd_bore_2_array      (childBd_2_array),
    .boreChildrenBd_bore_3_addr       (childBd_3_addr),
    .boreChildrenBd_bore_3_addr_rd    (childBd_3_addr_rd),
    .boreChildrenBd_bore_3_wdata      (childBd_3_wdata),
    .boreChildrenBd_bore_3_wmask      (childBd_3_wmask),
    .boreChildrenBd_bore_3_re         (childBd_3_re),
    .boreChildrenBd_bore_3_we         (childBd_3_we),
    .boreChildrenBd_bore_3_rdata      (childBd_3_rdata),
    .boreChildrenBd_bore_3_ack        (childBd_3_ack),
    .boreChildrenBd_bore_3_selectedOH (childBd_3_selectedOH),
    .boreChildrenBd_bore_3_array      (childBd_3_array),
    .sigFromSrams_bore_ram_hold       (sigFromSrams_bore_ram_hold),
    .sigFromSrams_bore_ram_bypass     (sigFromSrams_bore_ram_bypass),
    .sigFromSrams_bore_ram_bp_clken   (sigFromSrams_bore_ram_bp_clken),
    .sigFromSrams_bore_ram_aux_clk    (sigFromSrams_bore_ram_aux_clk),
    .sigFromSrams_bore_ram_aux_ckbp   (sigFromSrams_bore_ram_aux_ckbp),
    .sigFromSrams_bore_ram_mcp_hold   (sigFromSrams_bore_ram_mcp_hold),
    .sigFromSrams_bore_cgen           (sigFromSrams_bore_cgen),
    .sigFromSrams_bore_1_ram_hold     (sigFromSrams_bore_1_ram_hold),
    .sigFromSrams_bore_1_ram_bypass   (sigFromSrams_bore_1_ram_bypass),
    .sigFromSrams_bore_1_ram_bp_clken (sigFromSrams_bore_1_ram_bp_clken),
    .sigFromSrams_bore_1_ram_aux_clk  (sigFromSrams_bore_1_ram_aux_clk),
    .sigFromSrams_bore_1_ram_aux_ckbp (sigFromSrams_bore_1_ram_aux_ckbp),
    .sigFromSrams_bore_1_ram_mcp_hold (sigFromSrams_bore_1_ram_mcp_hold),
    .sigFromSrams_bore_1_cgen         (sigFromSrams_bore_1_cgen),
    .sigFromSrams_bore_2_ram_hold     (sigFromSrams_bore_2_ram_hold),
    .sigFromSrams_bore_2_ram_bypass   (sigFromSrams_bore_2_ram_bypass),
    .sigFromSrams_bore_2_ram_bp_clken (sigFromSrams_bore_2_ram_bp_clken),
    .sigFromSrams_bore_2_ram_aux_clk  (sigFromSrams_bore_2_ram_aux_clk),
    .sigFromSrams_bore_2_ram_aux_ckbp (sigFromSrams_bore_2_ram_aux_ckbp),
    .sigFromSrams_bore_2_ram_mcp_hold (sigFromSrams_bore_2_ram_mcp_hold),
    .sigFromSrams_bore_2_cgen         (sigFromSrams_bore_2_cgen),
    .sigFromSrams_bore_3_ram_hold     (sigFromSrams_bore_3_ram_hold),
    .sigFromSrams_bore_3_ram_bypass   (sigFromSrams_bore_3_ram_bypass),
    .sigFromSrams_bore_3_ram_bp_clken (sigFromSrams_bore_3_ram_bp_clken),
    .sigFromSrams_bore_3_ram_aux_clk  (sigFromSrams_bore_3_ram_aux_clk),
    .sigFromSrams_bore_3_ram_aux_ckbp (sigFromSrams_bore_3_ram_aux_ckbp),
    .sigFromSrams_bore_3_ram_mcp_hold (sigFromSrams_bore_3_ram_mcp_hold),
    .sigFromSrams_bore_3_cgen         (sigFromSrams_bore_3_cgen)
  );
  MbistBitmapCache mbistBC (
    .clock               (clock),
    .reset               (reset),
    .mbist_array         (bd_array),
    .mbist_all           (bd_all),
    .mbist_req           (bd_req),
    .mbist_ack           (bd_ack),
    .mbist_writeen       (bd_writeen),
    .mbist_be            (bd_be),
    .mbist_addr          (bd_addr),
    .mbist_indata        (bd_indata),
    .mbist_readen        (bd_readen),
    .mbist_addr_rd       (bd_addr_rd),
    .mbist_outdata       (bd_outdata),
    .toSRAM_0_addr       (childBd_addr),
    .toSRAM_0_addr_rd    (childBd_addr_rd),
    .toSRAM_0_wdata      (childBd_wdata),
    .toSRAM_0_wmask      (childBd_wmask),
    .toSRAM_0_re         (childBd_re),
    .toSRAM_0_we         (childBd_we),
    .toSRAM_0_rdata      (childBd_rdata),
    .toSRAM_0_ack        (childBd_ack),
    .toSRAM_0_selectedOH (childBd_selectedOH),
    .toSRAM_0_array      (childBd_array),
    .toSRAM_1_addr       (childBd_1_addr),
    .toSRAM_1_addr_rd    (childBd_1_addr_rd),
    .toSRAM_1_wdata      (childBd_1_wdata),
    .toSRAM_1_wmask      (childBd_1_wmask),
    .toSRAM_1_re         (childBd_1_re),
    .toSRAM_1_we         (childBd_1_we),
    .toSRAM_1_rdata      (childBd_1_rdata),
    .toSRAM_1_ack        (childBd_1_ack),
    .toSRAM_1_selectedOH (childBd_1_selectedOH),
    .toSRAM_1_array      (childBd_1_array),
    .toSRAM_2_addr       (childBd_2_addr),
    .toSRAM_2_addr_rd    (childBd_2_addr_rd),
    .toSRAM_2_wdata      (childBd_2_wdata),
    .toSRAM_2_wmask      (childBd_2_wmask),
    .toSRAM_2_re         (childBd_2_re),
    .toSRAM_2_we         (childBd_2_we),
    .toSRAM_2_rdata      (childBd_2_rdata),
    .toSRAM_2_ack        (childBd_2_ack),
    .toSRAM_2_selectedOH (childBd_2_selectedOH),
    .toSRAM_2_array      (childBd_2_array),
    .toSRAM_3_addr       (childBd_3_addr),
    .toSRAM_3_addr_rd    (childBd_3_addr_rd),
    .toSRAM_3_wdata      (childBd_3_wdata),
    .toSRAM_3_wmask      (childBd_3_wmask),
    .toSRAM_3_re         (childBd_3_re),
    .toSRAM_3_we         (childBd_3_we),
    .toSRAM_3_rdata      (childBd_3_rdata),
    .toSRAM_3_ack        (childBd_3_ack),
    .toSRAM_3_selectedOH (childBd_3_selectedOH),
    .toSRAM_3_array      (childBd_3_array)
  );
  ClockGate ClockGate (
    .TE (te_cgen),
    .E  (_vVec_delay_T | ~flush & io_refill_valid | bd_req),
    .CK (clock),
    .Q  (_ClockGate_Q)
  );
  assign io_req_ready = stageReq_ready;
  assign io_resp_valid = valid_1;
  assign io_resp_bits_hit = hit;
  assign io_resp_bits_cfs_0 = _GEN_1[0];
  assign io_resp_bits_cfs_1 = _GEN_1[1];
  assign io_resp_bits_cfs_2 = _GEN_1[2];
  assign io_resp_bits_cfs_3 = _GEN_1[3];
  assign io_resp_bits_cfs_4 = _GEN_1[4];
  assign io_resp_bits_cfs_5 = _GEN_1[5];
  assign io_resp_bits_cfs_6 = _GEN_1[6];
  assign io_resp_bits_cfs_7 = _GEN_1[7];
  assign io_resp_bits_order = data_1_order;
  assign boreChildrenBd_bore_ack = bd_ack;
  assign boreChildrenBd_bore_outdata = bd_outdata;
endmodule

